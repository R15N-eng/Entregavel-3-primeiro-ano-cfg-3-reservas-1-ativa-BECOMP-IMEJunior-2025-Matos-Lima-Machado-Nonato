<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crie sua conta na Petz</title>
    <link rel="stylesheet" href="style cadastro.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <header>
        <div class="petz-logo">
            <h1>PETZ</h1>
        </div>
    </header>

    <div class="container">
        <div class="form-section">
            <h2>Crie sua conta</h2>

            <div class="account-type">
                <input type="radio" id="pessoa-fisica" name="account-type" value="pf" checked>
                <label for="pessoa-fisica">Pessoa Física</label>

                <input type="radio" id="pessoa-juridica" name="account-type" value="pj">
                <label for="pessoa-juridica">Pessoa Jurídica</label>
            </div>

            <form id="registration-form">
                <div id="pf-fields">
                    <div class="form-group">
                        <label for="nome">Nome e sobrenome</label>
                        <input type="text" id="nome" name="nome" placeholder="Digite seu nome e sobrenome" required>
                    </div>

                    <div class="form-group">
                        <label for="email">E-mail</label>
                        <input type="email" id="email" name="email" placeholder="Digite seu e-mail" required>
                    </div>

                    <div class="form-group">
                        <label for="celular">Celular</label>
                        <div class="phone-inputs">
                            <input type="tel" id="ddd-celular" name="ddd-celular" placeholder="DDD" maxlength="2" required>
                            <input type="tel" id="celular" name="celular" placeholder="Celular (9xxxx-xxxx)" pattern="[0-9]{5}-[0-9]{4}" title="Formato esperado: 9xxxx-xxxx" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="telefone">Telefone (opcional)</label>
                        <div class="phone-inputs">
                            <input type="tel" id="ddd-telefone" name="ddd-telefone" placeholder="DDD" maxlength="2">
                            <input type="tel" id="telefone" name="telefone" placeholder="Telefone (xxxx-xxxx)" pattern="[0-9]{4}-[0-9]{4}" title="Formato esperado: xxxx-xxxx">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="genero">Gênero (opcional)</label>
                        <select id="genero" name="genero">
                            <option value="" disabled selected>Escolha o gênero</option>
                            <option value="masculino">Masculino</option>
                            <option value="feminino">Feminino</option>
                            <option value="nao-informar">Prefiro não informar</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="data-nascimento">Data de nascimento (opcional)</label>
                        <input type="date" id="data-nascimento" name="data-nascimento">
                    </div>
                
                    <div class="form-group">
                        <label for="cpf">CPF</label>
                        <input type="text" id="cpf" name="cpf" placeholder="xxx.xxx.xxx-xx" pattern="\d{3}\.\d{3}\.\d{3}-\d{2}" title="Formato esperado: xxx.xxx.xxx-xx" required>
                    </div>
                </div>

                <div id="pj-fields" class="hidden">
                    <div class="form-group">
                        <label for="razao-social">Razão Social</label>
                        <input type="text" id="razao-social" name="razao-social" placeholder="Digite a razão social" required>
                    </div>
                    <div class="form-group">
                        <label for="nome-fantasia">Nome Fantasia</label>
                        <input type="text" id="nome-fantasia" name="nome-fantasia" placeholder="Digite o nome fantasia">
                    </div>
                    <div class="form-group">
                        <label for="cnpj">CNPJ</label>
                        <input type="text" id="cnpj" name="cnpj" placeholder="xx.xxx.xxx/xxxx-xx" pattern="\d{2}\.\d{3}\.\d{3}\/\d{4}-\d{2}" title="Formato esperado: xx.xxx.xxx/xxxx-xx" required>
                    </div>
                    <div class="form-group">
                        <label for="pj-email">E-mail</label>
                        <input type="email" id="pj-email" name="pj-email" placeholder="Digite seu e-mail" required>
                    </div>
                    <div class="form-group">
                        <label for="pj-celular">Celular</label>
                        <div class="phone-inputs">
                            <input type="tel" id="pj-ddd-celular" name="pj-ddd-celular" placeholder="DDD" maxlength="2" required>
                            <input type="tel" id="pj-celular" name="pj-celular" placeholder="Celular (9xxxx-xxxx)" pattern="[0-9]{5}-[0-9]{4}" title="Formato esperado: 9xxxx-xxxx" required>
                        </div>
                    </div>
                </div>

                <div class="password-group">
                    <div class="form-group">
                        <label for="senha">Senha</label>
                        <div class="password-container">
                            <input type="password" id="senha" name="senha" placeholder="Digite sua senha" required>
                            <span class="password-toggle" onclick="togglePasswordVisibility('senha')">
                                <i class="far fa-eye"></i>
                            </span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="confirmar-senha">Confirmar a senha</label>
                        <div class="password-container">
                            <input type="password" id="confirmar-senha" name="confirmar-senha" placeholder="Confirme sua senha" required>
                            <span class="password-toggle" onclick="togglePasswordVisibility('confirmar-senha')">
                                <i class="far fa-eye"></i>
                            </span>
                        </div>
                    </div>
                </div>
                
                <div class="password-rules">
                    <label>Padrão de Senha</label>
                    <ul id="password-feedback">
                        <li id="length-rule">• Mínimo 8 caracteres</li>
                        <li id="uppercase-rule">• Letra Maiúscula</li>
                        <li id="lowercase-rule">• Letra Minúscula</li>
                        <li id="number-rule">• Números</li>
                    </ul>
                </div>

                <div class="terms-conditions">
                    <input type="checkbox" id="terms" name="terms" required>
                    <label for="terms">Concordo com os <a href="#">termos e condições</a></label>
                </div>

                <button type="submit" class="submit-button">Cadastrar</button>
            </form>
        </div>

        <div class="info-section">
            <h3>Criar uma conta é rápido, fácil e gratuito</h3>
            <p>Com a sua conta da Petz você tem acesso a Ofertas exclusivas, descontos, vai gerenciar a sua Assinatura Petz, pode acompanhar os seus pedidos e muito mais!</p>
        </div>
    </div>

    <script>
        function togglePasswordVisibility(id) {
            const passwordInput = document.getElementById(id);
            const icon = passwordInput.nextElementSibling.querySelector('i');
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                passwordInput.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const pfRadio = document.getElementById('pessoa-fisica');
            const pjRadio = document.getElementById('pessoa-juridica');
            const pfFields = document.getElementById('pf-fields');
            const pjFields = document.getElementById('pj-fields');
            
            function toggleFields() {
                if (pjRadio.checked) {
                    pfFields.classList.add('hidden');
                    pjFields.classList.remove('hidden');
                } else {
                    pfFields.classList.remove('hidden');
                    pjFields.classList.add('hidden');
                }
            }
            
            pfRadio.addEventListener('change', toggleFields);
            pjRadio.addEventListener('change', toggleFields);
            
            toggleFields();

            // Validação de Senha e Confirmação de Senha
            const passwordInput = document.getElementById('senha');
            const confirmPasswordInput = document.getElementById('confirmar-senha');
            const form = document.getElementById('registration-form');
            const lengthRule = document.getElementById('length-rule');
            const uppercaseRule = document.getElementById('uppercase-rule');
            const lowercaseRule = document.getElementById('lowercase-rule');
            const numberRule = document.getElementById('number-rule');

            function validatePassword() {
                const password = passwordInput.value;
                const hasLength = password.length >= 8;
                const hasUppercase = /[A-Z]/.test(password);
                const hasLowercase = /[a-z]/.test(password);
                const hasNumber = /[0-9]/.test(password);

                lengthRule.style.color = hasLength ? 'green' : 'red';
                uppercaseRule.style.color = hasUppercase ? 'green' : 'red';
                lowercaseRule.style.color = hasLowercase ? 'green' : 'red';
                numberRule.style.color = hasNumber ? 'green' : 'red';

                return hasLength && hasUppercase && hasLowercase && hasNumber;
            }

            function validatePasswordMatch() {
                if (passwordInput.value !== confirmPasswordInput.value) {
                    confirmPasswordInput.setCustomValidity('As senhas não coincidem.');
                } else {
                    confirmPasswordInput.setCustomValidity('');
                }
            }

            passwordInput.addEventListener('input', validatePassword);
            confirmPasswordInput.addEventListener('input', validatePasswordMatch);

            form.addEventListener('submit', (event) => {
                if (!validatePassword() || passwordInput.value !== confirmPasswordInput.value) {
                    event.preventDefault(); // Impede o envio do formulário
                    alert('Por favor, corrija os erros do formulário.');
                }
            });
        });
    </script>
</body>
</html>